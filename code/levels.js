class Level {
    constructor(world, name, time, maxSquares, squares, features) {
        this.world = world;
        this.name = name;
        this.time = time;
        this.maxSquares = maxSquares;
        this.squares = squares;
        this.features = features != undefined ? features : [];
    }

    getSaveID() {
        return "w" + this.world + ":" + this.name;
    }
}

function currentWorld() {
    return worlds["world" + playWorld];
}

function currentLevel() {
    return currentWorld()[playLevel - 1];
}

/*

        new Level("Square One", 120, [

        ], { "sandstorm": { amount: 50, speed: 1 } }),
*/

const worlds = {
    world1: [
        new Level(1, "Square One", 120, 1, [
            [0.3, 0.3, 0.4, 0.4, [0, 1, 2, 3]]
        ]),
        new Level(1, "Random One", 90, 1, [
            [0.3, 0.3, 0.4, 0.4]
        ]),
        new Level(1, "A Triple", 90, 3, [
            [0.3, 0.3, 0.4, 0.4, [0, 1,]],
            [0.3, 0.3, 0.4, 0.4, [0, 1, 2]],
            [0.3, 0.3, 0.4, 0.4, [0, 1, 2, 3]]
        ]),
        new Level(1, "Row Your Square", 90, 3, [
            [0.2, 0.2, 0.6, 0.2, [0, 1,]],
            [0.2, 0.4, 0.6, 0.2, [0, 1, 2]],
            [0.2, 0.6, 0.6, 0.2, [0, 1, 2, 3]]
        ]),
        new Level(1, "Don't Panic", 60, 1, [
            [0.2, 0.2, 0.3, 0.3, [3, 2, 1]],
            [0.4, 0.6, 0.3, 0.3, [2, 1, 3]],
            [0.4, 0.4, 0.3, 0.3, [1, 0, 2]]
        ]),
        new Level(1, "Do Panic!", 60, 1, [
            [0.2, 0.2, 0.3, 0.3],
            [0.4, 0.6, 0.3, 0.3],
            [0.4, 0.4, 0.3, 0.3]
        ]),
        new Level(1, "Row Your Speed", 30, 3, [
            [0.2, 0.2, 0.6, 0.2, [0, 1,]],
            [0.2, 0.4, 0.6, 0.2, [0, 1, 2]],
            [0.2, 0.6, 0.6, 0.2, [0, 1, 2, 3]],
            [0.2, 0.2, 0.6, 0.2, [0, 1,]],
            [0.2, 0.4, 0.6, 0.2, [0, 2, 1]],
            [0.2, 0.6, 0.6, 0.2, [0, 3, 2, 1]]
        ]),
        new Level(1, "Where am I?", 60, 2, [
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4]
        ]),
        new Level(1, "Let It Be", 60, 4, [
            [0.3, 0.3, 0.2, 0.2, [0, 1, 2, 3]],
            [0.5, 0.3, 0.2, 0.2, [1, 2, 3, 0]],
            [0.3, 0.5, 0.2, 0.2, [2, 3, 0, 1]],
            [0.5, 0.5, 0.2, 0.2, [3, 0, 1, 2]]
        ]),
        new Level(1, "Screwed", 30, 3, [
            [0.2, 0.2, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.4, 0.4, 0.4, 0.4],
            [0.2, 0.2, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.4, 0.4, 0.4, 0.4],
            [0.2, 0.2, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.4, 0.4, 0.4, 0.4]
        ]),
    ],
    world2: [
        new Level(2, "Sand and Bricks", 45, 1, [
            [0.2, 0.2, 0.2, 0.2, [1, 2]],
            [0.7, 0.4, 0.2, 0.2, [2, 1]],
            [0.1, 0.7, 0.2, 0.2, [1, 2]],
            [0.4, 0.4, 0.2, 0.2, [2, 1]],
            [0.6, 0.6, 0.2, 0.2, [1, 2]],
            [0.2, 0.2, 0.2, 0.2, [2, 1]]
        ]),
        new Level(2, "Sandstorm after Beginners", 45, 1, [
            // stormy version of previous lvl
            [0.2, 0.2, 0.2, 0.2, [1, 2]],
            [0.7, 0.4, 0.2, 0.2, [2, 1]],
            [0.1, 0.7, 0.2, 0.2, [1, 2]],
            [0.4, 0.4, 0.2, 0.2, [2, 1]],
            [0.6, 0.6, 0.2, 0.2, [1, 2]],
            [0.2, 0.2, 0.2, 0.2, [2, 1]]
        ], { "sandstorm": { amount: 100, speed: 0.5 } }),
        new Level(2, "The Sandstorm", 60, 1, [
            // based on A Triple
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4],
            [0.3, 0.3, 0.4, 0.4]
        ], { "sandstorm": { amount: 200, speed: 1 } }),
        new Level(2, "Microscrews", 45, 3, [
            [0.1, 0.15, 0.1, 0.1, [1, 2]],
            [0.85, 0.85, 0.1, 0.1, [3, 1]],
            [0.45, 0.45, 0.1, 0.1, [0, 3]],
            [0.1, 0.15, 0.08, 0.08, [0, 1]],
            [0.9, 0.9, 0.08, 0.08, [2, 0]],
            [0.45, 0.45, 0.08, 0.08, [3, 2]]
        ]),
        new Level(2, "Microstorm", 45, 3, [
            // stormy version of previous lvl
            [0.1, 0.15, 0.1, 0.1, [1, 2]],
            [0.85, 0.85, 0.1, 0.1, [3, 1]],
            [0.45, 0.45, 0.1, 0.1, [0, 3]],
            [0.1, 0.15, 0.08, 0.08, [0, 1]],
            [0.9, 0.9, 0.08, 0.08, [2, 0]],
            [0.45, 0.45, 0.08, 0.08, [3, 2]]
        ], { "sandstorm": { amount: 30, speed: 3 } }),
        new Level(2, "The Sandstorm II", 30, 2, [
            // based on The Sandstorm
            [0.4, 0.4, 0.2, 0.2],
            [0.3, 0.3, 0.4, 0.4],
            [0.4, 0.4, 0.2, 0.2],
            [0.3, 0.3, 0.4, 0.4],
            [0.4, 0.4, 0.2, 0.2],
            [0.3, 0.3, 0.4, 0.4]
        ], { "sandstorm": { amount: 200, speed: 3 } }),
        new Level(2, "If Memory Serves Right", 60, 6, [
            [0.1, 0.15, 0.2, 0.1, [3, 2, 1, 0]],
            [0.75, 0.75, 0.15, 0.15, [1, 3]],
            [0.45, 0.45, 0.1, 0.1, [0, 1, 2, 3]],
            [0.1, 0.15, 0.3, 0.2, [3, 2]],
            [0.6, 0.8, 0.2, 0.1, [1, 0, 2, 3]],
            [0.42, 0.42, 0.16, 0.16, [0, 1, 2, 3]]
        ]),
        new Level(2, "Let It Storm", 45, 4, [
            // stormy version of Let It Be
            [0.3, 0.3, 0.2, 0.2, [0, 1, 2, 3]],
            [0.5, 0.3, 0.2, 0.2, [1, 2, 3, 0]],
            [0.3, 0.5, 0.2, 0.2, [2, 3, 0, 1]],
            [0.5, 0.5, 0.2, 0.2, [3, 0, 1, 2]]
        ], { "sandstorm": { amount: 200, speed: 1 } }),
        new Level(2, "If Memory Storms Right", 45, 6, [
            // stormy version of If Memory Serves Right
            [0.1, 0.15, 0.2, 0.1, [3, 2, 1, 0]],
            [0.75, 0.75, 0.15, 0.15, [1, 3]],
            [0.45, 0.45, 0.1, 0.1, [0, 1, 2, 3]],
            [0.1, 0.15, 0.3, 0.2, [3, 2]],
            [0.6, 0.8, 0.2, 0.1, [1, 0, 2, 3]],
            [0.42, 0.42, 0.16, 0.16, [0, 1, 2, 3]]
        ], { "sandstorm": { amount: 200, speed: 1 } }),
        new Level(2, "Stormy Squares", 15, 4, [
            // based on Screwed
            [0.1, 0.1, 0.3, 0.3],
            [0.3, 0.3, 0.2, 0.2],
            [0.5, 0.5, 0.2, 0.2],
            [0.6, 0.6, 0.3, 0.3],
            [0.1, 0.1, 0.3, 0.3],
            [0.3, 0.3, 0.2, 0.2],
            [0.5, 0.5, 0.2, 0.2],
            [0.6, 0.6, 0.3, 0.3]
        ], { "sandstorm": { amount: 100, speed: 5 } }),
    ]
}